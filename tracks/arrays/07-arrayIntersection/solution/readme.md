# arrayIntersection

Розв'язання цієї задачі може виглядати ось так:

```js
const arrayIntersection = (products = [], favorites = []) => {
  // 1. Якщо масив `products` або `favorites` пустий, то повернути 0
  if (products.length == 0 || favorites.length == 0) {
    return 0;
  }
  // 2. Інакше для кожного елементу масиву `favorites`
  const intersection = favorites
      // ...перевірити наявність його в масиві `products`
    .filter(
      // 3. У разі збігу - додати до кінцевого масиву
      (item) => products.includes(item)
    );
  // 4. Повернути результат
  return intersection.length;
};
```

Наданий вище приклад написано в парадигмі [Функційного програмування](https://uk.wikipedia.org/wiki/Функційне_програмування). Функційне програмування — парадигма програмування, яка розглядає програму як обчислення математичних функцій та уникає станів та змінних даних. Функційне програмування наголошує на застосуванні функцій, на відміну від імперативного програмування, яке наголошує на змінах в стані та виконанні послідовностей команд.

Ми навіть можемо спростити цей код, прибравши тимчасові змінні і повертати результат одразу:

```js
const arrayIntersection = (products = [], favorites = []) =>
  products.length && favorites.length
    ? favorites.filter((i) => products.includes(i)).length
    : 0;
```

Функційне програмування відноситься до [Декларативного підходу](https://uk.wikipedia.org/wiki/Декларативне_програмування). Декларативне програмування — парадигма програмування, відповідно до якої, програма описує, який результат необхідно отримати, замість описання послідовності отримання цього результату.

В противагу тому, існує [Імперативний підхід](https://uk.wikipedia.org/wiki/Імперативне_програмування). Імперати́вне програмува́ння — парадигма програмування (стиль написання вихідного коду комп'ютерної програми), згідно з якою описується процес отримання результатів як послідовність інструкцій зміни стану програми. Імперативні програми є послідовністю операцій комп'ютера для виконання. Поширений синонім імперативному програмуванню є "процедурне програмування".

JavaScript підтримує обидва підходи до написання програми, тому давайте перепишемо наш код згідно з процедурним підходом.

```js
const arrayIntersection = (products = [], favorites = []) => {
  // 1. Якщо масив `products` або `favorites` пустий, то повернути 0
  if (products.length == 0 || favorites.length == 0) {
    return 0;
  }
  const intersection = [];
  // 2. Інакше для кожного елементу масиву `favorites`...
  for (let favorite of favorites) {
    // ...перевірити наявність його в масиві `products`
    for (let product of products) {
      // 3. У разі збігу...
      if (favorite === product) {
        // ...додати до кінцевого масиву
        intersection.push(product);
      }
    }
  }
  // 4. Повернути результат
  return intersection.length;
};
```

Частіше за все, в кінцевому коду продуктів ви будете зустрічати мікс цих двох підходів.
